<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Quiz de Biomedicina</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <style>
      body {
        font-family: 'Segoe UI', sans-serif;
        background: #f9fafb;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
      }
      .container {
        max-width: 600px;
        background: #fff;
        margin-top: 40px;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        text-align: center;
        color: #1e3a8a;
      }
      button {
        cursor: pointer;
        transition: all 0.3s;
      }
      button:hover {
        transform: scale(1.02);
      }
      .option {
        width: 100%;
        text-align: left;
        padding: 12px;
        border-radius: 10px;
        border: 2px solid #e5e7eb;
        margin-top: 10px;
        background: #f9fafb;
      }
      .correct {
        border-color: #16a34a;
        background: #dcfce7;
      }
      .wrong {
        border-color: #dc2626;
        background: #fee2e2;
      }
      .next-btn {
        display: block;
        margin: 20px auto 0;
        padding: 10px 20px;
        background: #2563eb;
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
      }
      .reset-btn {
        background: #9333ea;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/javascript">
      const { useState, useEffect } = React;

      function BiomedicalQuiz() {
        const [currentQuestion, setCurrentQuestion] = useState(0);
        const [selectedAnswer, setSelectedAnswer] = useState(null);
        const [score, setScore] = useState(0);
        const [showResult, setShowResult] = useState(false);
        const [questions, setQuestions] = useState([]);

        // ðŸ”¹ Banco de questÃµes â€” mais desafiadoras
        const questionBank = [
          {
            question: "Qual dessas anÃ¡lises laboratoriais depende da integridade das hemÃ¡cias?",
            options: [
              "Dosagem de glicose plasmÃ¡tica",
              "Hemograma completo",
              "Dosagem de ureia sÃ©rica",
              "Prova de funÃ§Ã£o hepÃ¡tica"
            ],
            correct: 1
          },
          {
            question: "A identificaÃ§Ã£o de micro-organismos por coloraÃ§Ã£o de Gram Ã© baseada em:",
            options: [
              "DiferenÃ§a na composiÃ§Ã£o da parede celular bacteriana",
              "PresenÃ§a de cÃ¡psula polissacarÃ­dica",
              "DiferenÃ§a no metabolismo energÃ©tico",
              "Tamanho e forma das bactÃ©rias"
            ],
            correct: 0
          },
          {
            question: "Durante um exame de tipagem sanguÃ­nea, a aglutinaÃ§Ã£o no soro anti-A indica:",
            options: [
              "PresenÃ§a do antÃ­geno B",
              "PresenÃ§a do antÃ­geno A",
              "AusÃªncia de antÃ­genos A e B",
              "Erro tÃ©cnico no teste"
            ],
            correct: 1
          },
          {
            question: "Na citologia oncÃ³tica, qual alteraÃ§Ã£o celular Ã© indicativa de malignidade?",
            options: [
              "Aumento da relaÃ§Ã£o nÃºcleo/citoplasma e hipercromasia",
              "Citoplasma vacuolizado e nÃºcleo vesiculoso",
              "NÃºcleo picnÃ³tico e citoplasma acidÃ³filo",
              "Citolise e degeneraÃ§Ã£o hidrÃ³pica"
            ],
            correct: 0
          },
          {
            question: "A principal vantagem da imunofluorescÃªncia direta Ã©:",
            options: [
              "Maior especificidade na detecÃ§Ã£o de antÃ­genos teciduais",
              "Menor custo que a coloraÃ§Ã£o de H&E",
              "Identificar Ã¡cidos nucleicos em cÃ©lulas vivas",
              "Detectar mutaÃ§Ãµes genÃ©ticas"
            ],
            correct: 0
          },
          {
            question: "Qual marcador Ã© mais associado Ã  presenÃ§a de cÃ©lulas-tronco tumorais?",
            options: [
              "CD34",
              "CD45",
              "CD133",
              "CD3"
            ],
            correct: 2
          },
          {
            question: "Na bioquÃ­mica clÃ­nica, o aumento de ALT e AST sugere lesÃ£o em qual Ã³rgÃ£o?",
            options: [
              "CoraÃ§Ã£o",
              "Rim",
              "FÃ­gado",
              "PulmÃ£o"
            ],
            correct: 2
          },
          {
            question: "O controle de qualidade interno em um laboratÃ³rio tem como principal funÃ§Ã£o:",
            options: [
              "Garantir rastreabilidade dos resultados",
              "Reduzir custos operacionais",
              "Diminuir o nÃºmero de pacientes atendidos",
              "Validar novos mÃ©todos de pesquisa"
            ],
            correct: 0
          },
          {
            question: "A eletroforese de proteÃ­nas sÃ©ricas Ã© utilizada para:",
            options: [
              "Detectar anticorpos especÃ­ficos",
              "Avaliar fraÃ§Ãµes proteicas e possÃ­veis disfunÃ§Ãµes hepÃ¡ticas",
              "Medir eletrÃ³litos sÃ©ricos",
              "Avaliar nÃ­veis de glicogÃªnio"
            ],
            correct: 1
          },
          {
            question: "Em um laboratÃ³rio de microbiologia, o uso do meio MacConkey serve para:",
            options: [
              "Crescimento de fungos dermatÃ³fitos",
              "Isolamento de bactÃ©rias Gram-positivas",
              "Isolamento e diferenciaÃ§Ã£o de bactÃ©rias Gram-negativas entÃ©ricas",
              "Cultivo de protozoÃ¡rios intestinais"
            ],
            correct: 2
          }
        ];

        // ðŸ”€ Sorteia 5 perguntas aleatÃ³rias ao carregar
        useEffect(() => {
          const shuffled = [...questionBank].sort(() => Math.random() - 0.5);
          setQuestions(shuffled.slice(0, 5));
        }, []);

        const handleAnswer = (index) => {
          if (selectedAnswer !== null) return;
          setSelectedAnswer(index);
          if (index === questions[currentQuestion].correct) {
            setScore(score + 1);
          }
        };

        const nextQuestion = () => {
          if (currentQuestion < questions.length - 1) {
            setCurrentQuestion(currentQuestion + 1);
            setSelectedAnswer(null);
          } else {
            setShowResult(true);
          }
        };

        const resetQuiz = () => {
          const shuffled = [...questionBank].sort(() => Math.random() - 0.5);
          setQuestions(shuffled.slice(0, 5));
          setCurrentQuestion(0);
          setSelectedAnswer(null);
          setScore(0);
          setShowResult(false);
        };

        const passed = score >= 3;

        if (questions.length === 0) {
          return React.createElement('p', null, 'Carregando perguntas...');
        }

        if (showResult) {
          return (
            React.createElement('div', { className: 'container' },
              React.createElement('h1', null, passed ? 'ðŸŽ‰ ParabÃ©ns!' : 'Quase lÃ¡!'),
              React.createElement('p', null, `VocÃª acertou ${score} de ${questions.length} questÃµes.`),
              passed
                ? React.createElement('div', null,
                    React.createElement('p', null, 'ðŸŽ VocÃª ganhou um voucher! Escolha seu prÃªmio:'),
                    React.createElement('ul', null,
                      React.createElement('li', null, 'Teste de Glicemia'),
                      React.createElement('li', null, 'Teste de Tipagem ABO-Rh'),
                      React.createElement('li', null, 'Procedimento EstÃ©tico')
                    ),
                    React.createElement('p', null, 'Entre em contato conosco para agendar seu prÃªmio!')
                  )
                : React.createElement('p', null, 'VocÃª precisa acertar pelo menos 3 questÃµes para ganhar o voucher.'),
              React.createElement('button', { onClick: resetQuiz, className: 'next-btn reset-btn' }, 'Tentar Novamente')
            )
          );
        }

        return (
          React.createElement('div', { className: 'container' },
            React.createElement('h1', null, 'Quiz de Biomedicina'),
            React.createElement('p', null, `${currentQuestion + 1} / ${questions.length}`),
            React.createElement('p', null, questions[currentQuestion].question),
            questions[currentQuestion].options.map((option, index) => {
              const isSelected = selectedAnswer === index;
              const isCorrect = index === questions[currentQuestion].correct;
              let className = "option";
              if (selectedAnswer !== null) {
                if (isCorrect) className += " correct";
                else if (isSelected && !isCorrect) className += " wrong";
              }
              return React.createElement(
                'button',
                {
                  key: index,
                  onClick: () => handleAnswer(index),
                  className,
                  disabled: selectedAnswer !== null
                },
                option
              );
            }),
            selectedAnswer !== null &&
              React.createElement(
                'button',
                { onClick: nextQuestion, className: 'next-btn' },
                currentQuestion < questions.length - 1 ? 'PrÃ³xima Pergunta' : 'Ver Resultado'
              )
          )
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(React.createElement(BiomedicalQuiz));
    </script>
  </body>
</html>
